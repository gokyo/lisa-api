{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"type": "object",
	"properties":
	{
		"lisaTransactionID" : {
          "description": "TODO",
          "$ref": "#/definitions/IDType"},
		"accountID" : {
		  "description": "The financial organisation’s own unique reference number for the investor’s LISA account.",
		  "$ref": "#/definitions/IDType"},
		"lisaManagerReferenceNumber" : {
          "description": "The number issued to the LISA provider upon successful LISA registration with HMRC.",
          "$ref": "#/definitions/LISAManagerReferenceNumberType"},
        "lifeEventID" : {
          "description": "TODO",
          "$ref": "#/definitions/IDType"},
		"periodStartDate" : {
          "description": "TODO",
          "$ref": "#/definitions/ISO8601-Date"},
	    "periodEndDate" : {
          "description": "TODO",
          "$ref": "#/definitions/ISO8601-Date"},
        "transactionType" : {
          "description": "TODO",
          "$ref": "#/definitions/transactionTypeType"},
        "chargeReason" : {
          "description": "TODO",
          "$ref": "#/definitions/chargeReasonType"},

		"htbTransfer" :
		{
          "description": "TODO",
			"type" : "object",
			"properties":
			{
				"SubscriptionAmountInClaimPeriod" :{
                  "description": "TODO",
                  "type" : "number"},
			    "totalAmountToDate" :{
                  "description": "TODO",
                  "type" : "number"}
			}
		},

		"inboundPayments" :
		{
          "description": "TODO",
			"type" : "object",
			"properties":
			{
			  "newSubscriptionsInClaimPeriod" :{"description": "TODO", "type" : "number"},
			  "newSubscriptionsTaxYearToDate" :{"description": "TODO", "type" : "number"},
			  "totalSubscriptionsInClaimPeriod" :{"description": "TODO", "type" : "number"},
			  "totalSubscriptionsTaxYearToDate" :{"description": "TODO", "type" : "number"}
			},
		  "required":
		  [
			"newSubscriptionsTaxYearToDate",
			"totalSubscriptionsInClaimPeriod",
			"totalSubscriptionsTaxYearToDate"
		  ]
		},
      "bonuses" :
      {
        "description": "TODO",
        "type": "object",
        "properties" :
        {
          "bonusDueInClaimPeriod" :{"description": "TODO", "type" : "number"},
          "bonusDueYearToDate" :{"description": "TODO", "type" : "number"},
          "bonusPaidInTaxYearToDate" :{"description": "TODO", "type" : "number"},
          "claimReason" : {"description": "TODO", "$ref": "#/definitions/claimReasonType"}
        },
        "required":
        [
          "bonusDueInClaimPeriod" ,
          "bonusDueYearToDate",
          "claimReason"
        ]

      }

	},
	"required": [
		"accountID",
		"lisaManagerReferenceNumber",
		"periodStartDate",
		"periodEndDate",
        "transactionType",
        "chargeReason",
		"inboundPayments",
        "bonuses"
    ],
	"additionalProperties": false,
	"definitions":
	{
      "ISO8601-Date": {
        "type": "string",
        "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
      },
		"IDType": {
			"type": "string",
			"pattern": "^\\d{10}$"
		},
		"LISAManagerReferenceNumberType" : {
			"type" : "string",
			"pattern": "^Z\\d{6}$"
		},
      "transactionTypeType" : {
        "type" : "string",
        "enum": ["Bonus", "Penalty"]
      },
      "claimReasonType" : {
        "type" : "string",
        "enum": ["Life Event", "Regular Bonus"]
      },
      "chargeReasonType" : {
        "type" : "string",
        "enum": ["Unauthorised withdrawal", "Others TBD"]
      }


	}
}
