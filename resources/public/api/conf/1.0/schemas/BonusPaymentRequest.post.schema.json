{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"type": "object",
	"properties":
	{
		"accountID" : {
		  "description": "The financial organisation’s own unique reference number for the investor’s LISA account.",
		  "$ref": "#/definitions/IDType"},
		"lisaManagerReferenceNumber" : {
          "description": "The number issued to the provider when they register with HMRC for LISA.",
          "$ref": "#/definitions/LISAManagerReferenceNumberType"},
        "lifeEventID" : {
          "description": "Report to HMRC if an investor has bought a house, been diagnosed with a terminal illness, or died. You need to do this to get a lifeEventID before you can request a bonus payment from HMRC.",
          "$ref": "#/definitions/IDType"},
		"periodStartDate" : {
          "description": "TODO",
          "$ref": "#/definitions/ISO8601-Date"},
	    "periodEndDate" : {
          "description": "TODO",
          "$ref": "#/definitions/ISO8601-Date"},
        "transactionType" : {
          "description": "TODO",
          "$ref": "#/definitions/transactionTypeType"},
        "chargeReason" : {
          "description": "TODO",
          "$ref": "#/definitions/chargeReasonType"},

		"htbTransfer" :
		{
          "description": "TODO",
			"type" : "object",
			"properties":
			{
				"htbTransferInForPeriod" :{
                  "description": "TODO",
                  "type" : "number"},
			    "htbTransferTotalYTD" :{
                  "description": "TODO",
                  "type" : "number"}
			}
		},

		"inboundPayments" :
		{
          "description": "TODO",
			"type" : "object",
			"properties":
			{
			  "newSubsForPeriod" :{"description": "New subscriptions this claim period", "type" : "number"},
			  "newSubsYTD" :{"description": "New subscriptions tax year-to-date", "type" : "number"},
			  "totalSubsForPeriod" :{"description": "Total subscriptions in claim period", "type" : "number"},
			  "totalSubsTYTD" :{"description": "Total subscriptions tax year-to-Date", "type" : "number"}
			},
		  "required":
		  [
			"newSubsYTD",
			"totalSubsForPeriod",
			"totalSubsTYTD"
		  ]
		},
      "bonuses" :
      {
        "description": "TODO",
        "type": "object",
        "properties" :
        {
          "bonusDueForPeriod" :{"description": "TODO", "type" : "number"},
          "totalBonusDueYTD" :{"description": "TODO", "type" : "number"},
          "bonusPaidYTD" :{"description": "TODO", "type" : "number"},
          "claimReason" : {"description": "TODO", "$ref": "#/definitions/claimReasonType"}
        },
        "required":
        [
          "bonusDueForPeriod" ,
          "totalBonusDueYTD",
          "claimReason"
        ]

      }

	},
	"required": [
		"accountID",
		"lisaManagerReferenceNumber",
		"periodStartDate",
		"periodEndDate",
        "transactionType",
        "chargeReason",
		"inboundPayments",
        "bonuses"
    ],
	"additionalProperties": false,
	"definitions":
	{
      "ISO8601-Date": {
        "type": "string",
        "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
      },
		"IDType": {
			"type": "string",
			"pattern": "^\\d{10}$"
		},
		"LISAManagerReferenceNumberType" : {
			"type" : "string",
			"pattern": "^Z\\d{6}$"
		},
      "transactionTypeType" : {
        "type" : "string",
        "enum": ["Bonus", "Penalty"]
      },
      "claimReasonType" : {
        "type" : "string",
        "enum": ["Life Event", "Regular Bonus"]
      },
      "chargeReasonType" : {
        "type" : "string",
        "enum": ["Unauthorised withdrawal", "Others TBD"]
      }


	}
}
