{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "investorID": {
      "description": "The investor’s ID reference number. Must conform to the regular expression: ^\\d{10}$ For example: 9876543210",
      "$ref": "#/definitions/IDType"
    },
    "accountID": {
      "description": "The financial organisation’s own unique reference number for the investor’s LISA account.",
      "type": "string"
    },
    "lisaManagerReferenceNumber": {
      "description": "The number issued to the provider when they register with HMRC for LISA.\n  Must conform to the regular expression ^Z\\d{6}$ \n (e.g. Z123456)",
      "$ref": "#/definitions/LISAManagerReferenceNumberType"
    },
    "closeAccount": {
      "description": "Account closure details",
      "type": "object",
      "properties": {
        "accountClosureReason": {
          "description": "The reason the account was closed,",
          "type": "string",
          "enum": [
            "Transferred out",
            "All funds withdrawn",
            "Voided"
          ]
        },
        "closureDate": {
          "description": "The date the account was closed. \n Must conform to the format : YYYY-MM-DD \n For example: 2017-05-22 ",
          "$ref": "#/definitions/ISO8601-Date"
        }

      },
      "required": [
        "accountClosureReason",
        "closureDate"
      ]
    }
  },
    "required": [
	  "investorID",
	  "accountID",
	  "lisaManagerReferenceNumber"
	],
	"additionalProperties": false,
	"definitions": {
	  "ISO8601-Date": {
		"type": "string",
		"pattern": "^\\d{4}-\\d{2}-\\d{2}$"
	  },
	  "ISO8601-Timestamp": {
		"type": "string",
		"pattern": "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}(:\\d{2})?(([+-]\\d{2}(:\\d{2})?)|Z)"
	  },
	  "IDType": {
		"type": "string",
		"pattern": "^\\d{10}$"
	  },
	  "LISAManagerReferenceNumberType": {
		"type": "string",
		"pattern": "^Z\\d{6}$"
	  },
	  "NINOType": {
		"type": "string",
		"pattern": "^[A-Z]{2}\\d{6}[A-D]$"
	  }
	}

}
